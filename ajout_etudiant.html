<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Ajouter un étudiant - Portail Administrateur</title>
    <link rel="stylesheet" href="portails.css">
</head>
<body>

<header class="header">
    <img src="logo_hestim arrière plan bleu.png" class="logo">
    <h1>Bienvenue sur le portail Administrateur</h1>
    <button class="logout-btn" onclick="location.href='login-enseignant.html'">Déconnexion</button>
</header>

<nav class="navbar">
    <button class="nav-btn" onclick="location.href='portail_admin..html'">Salles</button>
    <button class="nav-btn active" onclick="location.href='etudiants_inscrits.html'">Étudiants Inscrits</button>
    <button class="nav-btn" onclick="location.href='ajout_cours.html'">Ajouter un cours</button>
</nav>

<div class="sub-menu">
    <button class="sub-btn active">Ajouter un étudiant</button>
    <button class="sub-btn" onclick="location.href='etudiants_inscrits.html'">Liste des étudiants</button>
</div>

<section class="content">
    <div class="form-container">
        <h2>Ajouter un nouvel étudiant</h2>
        
        <form id="etudiantForm" class="cours-form" onsubmit="ajouterEtudiant(event)">
            <div class="form-group">
                <label for="nomEtudiant">Nom complet de l'étudiant *</label>
                <input type="text" id="nomEtudiant" name="nomEtudiant" placeholder="Ex: Ahmed BENALI" required>
            </div>

            <div class="form-group">
                <label for="email">Email *</label>
                <input type="email" id="email" name="email" placeholder="Ex: ahmed.benali@hestim.ma" required>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="filiere">Filière *</label>
                    <select id="filiere" name="filiere" required>
                        <option value="">Choisissez une filière</option>
                        <option value="Informatique">Informatique</option>
                        <option value="Génie Civil">Génie Civil</option>
                        <option value="Ingénierie Industrielle">Ingénierie Industrielle</option>
                        <option value="Finance">Finance</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="niveau">Niveau *</label>
                    <select id="niveau" name="niveau" required>
                        <option value="">Choisissez un niveau</option>
                        <option value="1ère année">1ère année</option>
                        <option value="2ème année">2ème année</option>
                        <option value="3ème année">3ème année</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="telephone">Téléphone</label>
                    <input type="tel" id="telephone" name="telephone" placeholder="Ex: +212 6XX XXX XXX">
                </div>

                <div class="form-group">
                    <label for="dateInscription">Date d'inscription *</label>
                    <input type="date" id="dateInscription" name="dateInscription" required>
                </div>
            </div>

            <div class="form-group">
                <label for="notes">Notes supplémentaires</label>
                <textarea id="notes" name="notes" rows="3" placeholder="Informations complémentaires sur l'étudiant..."></textarea>
            </div>

            <div class="form-actions">
                <button type="button" class="btn-cancel" onclick="annulerFormulaire()">Annuler</button>
                <button type="submit" class="btn-submit">Enregistrer l'étudiant</button>
            </div>
        </form>
    </div>

    <div class="cours-list-container" id="etudiantListContainer" style="display: none;">
        <h3>Étudiants ajoutés récemment</h3>
        <div id="etudiantList"></div>
    </div>
</section>

<footer class="footer">
    <div class="footer-line"></div>
    <div class="footer-wrapper">
        <div class="footer-col">
            <h4>Nos formations</h4>
            <a href=""><p>Formation initiale</p></a>
            <a href=""><p>Formation Continue</p></a>
        </div>
        <div class="footer-col">
            <h4>Contactez-nous</h4>
            <a href=""><p><i class="fa-solid fa-phone"></i> +212 670000000</p></a>
            <a href=""><p><i class="fa-solid fa-phone"></i> +212 522000000</p></a>
            <a href=""><p><i class="fa-solid fa-envelope"></i> contact@hestim.ma</p></a>
        </div>
        <div class="footer-col">
            <h4>HESTIM</h4>
            <a href=""><p>A propos de HESTIM</p></a>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>
    </div>
    <div class="footer-line"></div>
    Copyright © 2023 HESTIM
    <div class="footer-bottom"></div>
</footer>

<script>
    let etudiantsList = [];

    // Définir la date d'aujourd'hui par défaut
    document.getElementById('dateInscription').valueAsDate = new Date();

    function ajouterEtudiant(event) {
        event.preventDefault();
        
        const formData = {
            nom: document.getElementById('nomEtudiant').value,
            email: document.getElementById('email').value,
            filiere: document.getElementById('filiere').value,
            niveau: document.getElementById('niveau').value,
            telephone: document.getElementById('telephone').value,
            dateInscription: document.getElementById('dateInscription').value,
            notes: document.getElementById('notes').value
        };

        // Ajouter l'étudiant à la liste
        etudiantsList.push({
            ...formData,
            id: Date.now(),
            dateAjout: new Date().toLocaleDateString('fr-FR')
        });

        // Afficher un message de succès
        alert(`Étudiant "${formData.nom}" ajouté avec succès!`);
        
        // Réinitialiser le formulaire
        document.getElementById('etudiantForm').reset();
        document.getElementById('dateInscription').valueAsDate = new Date();
        
        // Afficher la liste des étudiants
        afficherEtudiantList();
    }

    function afficherEtudiantList() {
        const container = document.getElementById('etudiantListContainer');
        const list = document.getElementById('etudiantList');
        
        if (etudiantsList.length === 0) {
            container.style.display = 'none';
            return;
        }

        container.style.display = 'block';
        list.innerHTML = '';

        etudiantsList.slice(-5).reverse().forEach(etudiant => {
            const etudiantCard = document.createElement('div');
            etudiantCard.className = 'cours-card';
            etudiantCard.innerHTML = `
                <div class="cours-card-header">
                    <h4>${etudiant.nom}</h4>
                    <span class="cours-date">Ajouté le ${etudiant.dateAjout}</span>
                </div>
                <div class="cours-card-body">
                    <p><strong>Email:</strong> ${etudiant.email}</p>
                    <p><strong>Filière:</strong> ${etudiant.filiere} - ${etudiant.niveau}</p>
                    ${etudiant.telephone ? `<p><strong>Téléphone:</strong> ${etudiant.telephone}</p>` : ''}
                    <p><strong>Date d'inscription:</strong> ${new Date(etudiant.dateInscription).toLocaleDateString('fr-FR')}</p>
                </div>
            `;
            list.appendChild(etudiantCard);
        });
    }

    function annulerFormulaire() {
        if (confirm('Êtes-vous sûr de vouloir annuler ? Les données non enregistrées seront perdues.')) {
            document.getElementById('etudiantForm').reset();
            document.getElementById('dateInscription').valueAsDate = new Date();
        }
    }
</script>

</body>
</html>
