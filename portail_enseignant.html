<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Portail Enseignant</title>
    
</head><link rel="stylesheet" href="portails.css">
<body>

<header class="header">
    <img src="logo_hestim arrière plan bleu.png" class="logo">
    <h1>Bienvenue sur le portail enseignant</h1>
    <button class="logout-btn" onclick="location.href='login-enseignant.html'">Déconnexion</button>
</header>

<nav class="navbar">
    <button class="nav-btn active" onclick="showMainSection('emploi')">Salle / Emploi du Temps</button>
    <button class="nav-btn" onclick="showMainSection('etudiants')">Étudiants Inscrits</button>
    <button class="nav-btn" onclick="showMainSection('ajout-cours')">Ajouter un cours</button>
</nav>

<!-- Section Emploi du Temps / Réservations -->
<div id="emploi-section">
    <div class="sub-menu">
        <button class="sub-btn active" onclick="showSubSection('emploi-temps')">Mon emploi du temps</button>
        <button class="sub-btn" onclick="showSubSection('reservations')">Réservation des salles</button>
    </div>

    <section class="reservations-container" id="reservations-section" style="display: none;">
        <div class="reservations-header">
            <h2>Mes Réservations</h2>
            <button class="btn-add-reservation" onclick="showReservationForm()">+ Nouvelle Réservation</button>
        </div>
        <div class="reservations-list" id="reservations-list">
            <!-- Les réservations seront affichées ici -->
        </div>
    </section>

    <section class="emploi-container" id="emploi-temps-section">
    <table class="emploi-table">
        <tr>
            <th>Horaires</th><th>Lundi</th><th>Mardi</th><th>Mercredi</th><th>Jeudi</th><th>Vendredi</th>
        </tr>
        <tr><td>09:00</td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td>10:00</td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td>11:00</td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td>12:00</td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td>13:00</td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td>14:00</td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td>15:00</td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td>16:00</td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td>17:00</td><td></td><td></td><td></td><td></td><td></td></tr>
        <tr><td>18:00</td><td></td><td></td><td></td><td></td><td></td></tr>
    </table>
    </section>
</div>

<!-- Section Étudiants Inscrits -->
<div id="etudiants-section" style="display: none;">
    <section class="content">
        <div class="page-header">
            <h2>Mes Étudiants Inscrits</h2>
            <div class="search-filter-bar">
                <input type="text" id="searchEtudiant" class="search-input" placeholder="Rechercher un étudiant...">
                <select id="filterCours" class="filter-select">
                    <option value="">Tous les cours</option>
                    <option value="Algorithmes">Algorithmes et structures de données</option>
                    <option value="Base de données">Base de données</option>
                    <option value="Réseaux">Réseaux informatiques</option>
                </select>
            </div>
        </div>

        <div class="students-table-container">
            <table class="students-table">
                <thead>
                    <tr>
                        <th>Nom complet</th>
                        <th>Email</th>
                        <th>Cours</th>
                        <th>Filière</th>
                        <th>Niveau</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="etudiantsTableBody">
                    <tr>
                        <td>Manuella MEHINTO</td>
                        <td>manuella.mehinto@hestim.ma</td>
                        <td>Algorithmes et structures de données</td>
                        <td>Informatique</td>
                        <td>1ère année</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-view" onclick="voirEtudiant('Manuella MEHINTO')">Voir</button>
                                <button class="btn-edit" onclick="contacterEtudiant('manuella.mehinto@hestim.ma')">Contacter</button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Jane ONDAYE</td>
                        <td>jane.ondaye@hestim.ma</td>
                        <td>Algorithmes et structures de données</td>
                        <td>Informatique</td>
                        <td>1ère année</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-view" onclick="voirEtudiant('Jane ONDAYE')">Voir</button>
                                <button class="btn-edit" onclick="contacterEtudiant('jane.ondaye@hestim.ma')">Contacter</button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Abdel ISSIFOU</td>
                        <td>abdel.issifou@hestim.ma</td>
                        <td>Base de données</td>
                        <td>Informatique</td>
                        <td>1ère année</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-view" onclick="voirEtudiant('Abdel ISSIFOU')">Voir</button>
                                <button class="btn-edit" onclick="contacterEtudiant('abdel.issifou@hestim.ma')">Contacter</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </section>
</div>

<!-- Section Ajouter un cours -->
<div id="ajout-cours-section" style="display: none;">
    <section class="content">
        <div class="form-container">
            <h2>Ajouter un nouveau cours</h2>
            
            <form id="coursFormEnseignant" class="cours-form" onsubmit="ajouterCoursEnseignant(event)">
                <div class="form-group">
                    <label for="nomCoursEnseignant">Nom du cours *</label>
                    <input type="text" id="nomCoursEnseignant" name="nomCours" placeholder="Ex: Algorithmes et structures de données" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="filiereCours">Filière *</label>
                        <select id="filiereCours" name="filiere" required>
                            <option value="">Sélectionnez une filière</option>
                            <option value="Informatique">Informatique</option>
                            <option value="Génie Civil">Génie Civil</option>
                            <option value="Ingénierie Industrielle">Ingénierie Industrielle</option>
                            <option value="Finance">Finance</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="niveauCours">Niveau *</label>
                        <select id="niveauCours" name="niveau" required>
                            <option value="">Sélectionnez un niveau</option>
                            <option value="1ère année">1ère année</option>
                            <option value="2ème année">2ème année</option>
                            <option value="3ème année">3ème année</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="effectifCours">Effectif attendu *</label>
                        <input type="number" id="effectifCours" name="effectif" min="1" max="200" placeholder="Nombre d'étudiants" required>
                    </div>

                    <div class="form-group">
                        <label for="heuresCours">Nombre d'heures *</label>
                        <input type="number" id="heuresCours" name="heures" min="1" max="200" placeholder="Nombre d'heures" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="salleCours">Type de salle requis</label>
                    <select id="salleCours" name="salle">
                        <option value="">Sélectionnez un type</option>
                        <option value="Amphithéâtre">Amphithéâtre</option>
                        <option value="Salle de cours">Salle de cours</option>
                        <option value="Salle info">Salle info</option>
                        <option value="Laboratoire">Laboratoire</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="descriptionCours">Description du cours</label>
                    <textarea id="descriptionCours" name="description" rows="4" placeholder="Décrivez le contenu et les objectifs du cours..."></textarea>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-cancel" onclick="annulerFormulaireCours()">Annuler</button>
                    <button type="submit" class="btn-submit">Soumettre la demande</button>
                </div>
            </form>
        </div>

        <div class="cours-list-container" id="coursListContainerEnseignant" style="display: none;">
            <h3>Mes cours soumis</h3>
            <div id="coursListEnseignant"></div>
        </div>
    </section>
</div>

<footer class="footer">

  
    <div class="footer-line"></div>

    <div class="footer-wrapper">

      
        <div class="footer-col">
            <h4>Nos formations</h4>
            <a href=""><p>Formation initiale</p></a>
           <a href=""> <p>Formation Continue</p></a>
        </div>

        <div class="footer-col">
            <h4>Contactez-nous</h4>
            <a href=""><p><i class="fa-solid fa-phone"></i> +212 670000000</p></a>
            <a href=""><p><i class="fa-solid fa-phone"></i> +212 522000000</p></a>
            <a href=""><p><i class="fa-solid fa-envelope"></i> contact@hestim.ma</p></a>
        </div>

        
        <div class="footer-col">
            <h4>HESTIM</h4>
            <a href=""><p>A propos de HESTIM</p></a>

            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>

    </div>
   
    <div class="footer-line"></div>
 Copyright © 2023 HESTIM
    <div class="footer-bottom">
        
    </div>

</footer>

<script>
    // Gestion de l'affichage des sections principales
    function showMainSection(section) {
        // Mettre à jour les boutons actifs
        document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');

        // Masquer toutes les sections
        document.getElementById('emploi-section').style.display = 'none';
        document.getElementById('etudiants-section').style.display = 'none';
        document.getElementById('ajout-cours-section').style.display = 'none';

        // Afficher la section demandée
        if (section === 'emploi') {
            document.getElementById('emploi-section').style.display = 'block';
        } else if (section === 'etudiants') {
            document.getElementById('etudiants-section').style.display = 'block';
            filterEtudiants();
        } else if (section === 'ajout-cours') {
            document.getElementById('ajout-cours-section').style.display = 'block';
        }
    }

    // Gestion de l'affichage des sous-sections (emploi du temps)
    function showSubSection(subsection) {
        document.querySelectorAll('.sub-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        
        if (subsection === 'reservations') {
            document.getElementById('reservations-section').style.display = 'block';
            document.getElementById('emploi-temps-section').style.display = 'none';
            loadReservations();
        } else {
            document.getElementById('reservations-section').style.display = 'none';
            document.getElementById('emploi-temps-section').style.display = 'block';
        }
    }

    // Données des réservations
    let reservationsData = [
        {
            id: 1,
            salle: 'Amphi A',
            date: '2024-01-20',
            heureDebut: '09:00',
            heureFin: '11:00',
            raison: 'Cours d\'Algorithmes'
        }
    ];

    // Charger les réservations
    function loadReservations() {
        const list = document.getElementById('reservations-list');
        list.innerHTML = '';

        if (reservationsData.length === 0) {
            list.innerHTML = '<p style="text-align: center; padding: 20px; color: #666;">Aucune réservation pour le moment</p>';
            return;
        }

        reservationsData.forEach(reservation => {
            const item = document.createElement('div');
            item.className = 'reservation-item';
            item.innerHTML = `
                <div class="reservation-info">
                    <strong>${reservation.salle}</strong> - ${formatDate(reservation.date)}
                    <br>
                    <small>${reservation.heureDebut} - ${reservation.heureFin} | ${reservation.raison}</small>
                </div>
                <div class="reservation-actions">
                    <button class="btn-delete" onclick="deleteReservation(${reservation.id})">Supprimer</button>
                </div>
            `;
            list.appendChild(item);
        });
    }

    // Afficher le formulaire de réservation
    function showReservationForm() {
        const salle = prompt('Nom de la salle:');
        if (!salle) return;

        const date = prompt('Date (YYYY-MM-DD):');
        if (!date) return;

        const heureDebut = prompt('Heure début (HH:MM):');
        if (!heureDebut) return;

        const heureFin = prompt('Heure fin (HH:MM):');
        if (!heureFin) return;

        const raison = prompt('Raison de la réservation:') || 'Cours';

        const newReservation = {
            id: reservationsData.length > 0 ? Math.max(...reservationsData.map(r => r.id)) + 1 : 1,
            salle,
            date,
            heureDebut,
            heureFin,
            raison
        };

        reservationsData.push(newReservation);
        loadReservations();
        alert('Réservation créée avec succès!');
    }

    // Supprimer une réservation
    function deleteReservation(id) {
        if (confirm('Êtes-vous sûr de vouloir supprimer cette réservation ?')) {
            reservationsData = reservationsData.filter(r => r.id !== id);
            loadReservations();
            alert('Réservation supprimée avec succès!');
        }
    }

    // Formater la date
    function formatDate(dateString) {
        const date = new Date(dateString);
        return date.toLocaleDateString('fr-FR', { day: '2-digit', month: '2-digit', year: 'numeric' });
    }

    // Fonctions pour les étudiants
    function voirEtudiant(nom) {
        alert(`Informations de l'étudiant:\n\nNom: ${nom}\n\nVous pouvez voir les détails complets dans le système.`);
    }

    function contacterEtudiant(email) {
        if (confirm(`Voulez-vous envoyer un email à ${email} ?`)) {
            window.location.href = `mailto:${email}`;
        }
    }

    // Filtre des étudiants
    document.getElementById('searchEtudiant')?.addEventListener('input', filterEtudiants);
    document.getElementById('filterCours')?.addEventListener('change', filterEtudiants);

    function filterEtudiants() {
        const searchTerm = document.getElementById('searchEtudiant')?.value.toLowerCase() || '';
        const coursFilter = document.getElementById('filterCours')?.value || '';
        const rows = document.querySelectorAll('#etudiantsTableBody tr');

        rows.forEach(row => {
            const nom = row.cells[0]?.textContent.toLowerCase() || '';
            const cours = row.cells[2]?.textContent || '';

            const matchesSearch = !searchTerm || nom.includes(searchTerm);
            const matchesCours = !coursFilter || cours.includes(coursFilter);

            row.style.display = (matchesSearch && matchesCours) ? '' : 'none';
        });
    }

    // Fonctions pour ajouter un cours
    let coursListEnseignant = [];

    function ajouterCoursEnseignant(event) {
        event.preventDefault();
        
        const formData = {
            nom: document.getElementById('nomCoursEnseignant').value,
            filiere: document.getElementById('filiereCours').value,
            niveau: document.getElementById('niveauCours').value,
            effectif: document.getElementById('effectifCours').value,
            heures: document.getElementById('heuresCours').value,
            salle: document.getElementById('salleCours').value,
            description: document.getElementById('descriptionCours').value
        };

        coursListEnseignant.push({
            ...formData,
            id: Date.now(),
            dateAjout: new Date().toLocaleDateString('fr-FR'),
            statut: 'En attente de validation'
        });

        alert(`Demande de cours "${formData.nom}" soumise avec succès!\n\nElle sera examinée par l'administration.`);
        
        document.getElementById('coursFormEnseignant').reset();
        afficherCoursListEnseignant();
    }

    function afficherCoursListEnseignant() {
        const container = document.getElementById('coursListContainerEnseignant');
        const list = document.getElementById('coursListEnseignant');
        
        if (coursListEnseignant.length === 0) {
            container.style.display = 'none';
            return;
        }

        container.style.display = 'block';
        list.innerHTML = '';

        coursListEnseignant.slice(-5).reverse().forEach(cours => {
            const coursCard = document.createElement('div');
            coursCard.className = 'cours-card';
            coursCard.innerHTML = `
                <div class="cours-card-header">
                    <h4>${cours.nom}</h4>
                    <span class="cours-date">Soumis le ${cours.dateAjout}</span>
                </div>
                <div class="cours-card-body">
                    <p><strong>Filière:</strong> ${cours.filiere} - ${cours.niveau}</p>
                    <p><strong>Effectif:</strong> ${cours.effectif} étudiants | <strong>Heures:</strong> ${cours.heures}h</p>
                    <p><strong>Statut:</strong> <span class="status-badge status-pending">${cours.statut}</span></p>
                </div>
            `;
            list.appendChild(coursCard);
        });
    }

    function annulerFormulaireCours() {
        if (confirm('Êtes-vous sûr de vouloir annuler ? Les données non enregistrées seront perdues.')) {
            document.getElementById('coursFormEnseignant').reset();
        }
    }
</script>
</body>
</html>